<script src="https://polyfill.io/v3/polyfill.min.js?features=default"></script>
<script
  src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAiuB3mWYcMd3tB659nKTl-nI6CxmHpGHg&callback=initMap&&libraries=places&v=weekly"
  defer></script>
<script src="https://unpkg.com/@googlemaps/markerclustererplus/dist/index.min.js"></script>
<link rel="stylesheet" href="/stylesheets/map.css">

<ul class="nav nav-tabs">
  <li class="nav-item">
    <a class="nav-link " href="/blogs">Blog</a>
  </li>
  <li class="nav-item">
    <a class="nav-link active" href="/map">Map</a>
  </li>
  <li class="nav-item">
    <a class="nav-link " href="/trackers">Tracker</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/weather">Weather</a>
  </li>
</ul>
<br>
<h1>紀錄地圖</h1>
<div class="filterForm d-flex justify-content-center mb-3">
  <form method="GET" action='/map/filters'>
    <div class="filters row mr-2">
      <div class="filterType">
        <select class="btn btn-secondary dropdown-toggle" name="type" onchange="submit()">
          {{#if types}}<option>{{types}}</option>{{/if}}
          <option class="dropdown-item" value="全部">全部</option>
          {{#each typesList}}
          <option class="dropdown-item" value="{{this}}">{{this}}</option>
          {{/each}}
        </select>
      </div>
      <div class="filterYear ml-3">
        <select class="btn btn-secondary dropdown-toggle" name="year" onchange="submit()">
          {{#if years}}<option>{{years}}</option>{{/if}}
          <option class="dropdown-item" value="全部">全部</option>
          {{#each yearsList}}
          <option class="dropdown-item" value="{{this}}">{{this}}</option>
          {{/each}}
        </select>
      </div>
      <div class="filterMonth ml-3">
        <select class="btn btn-secondary dropdown-toggle" name="month" onchange="submit()">
          {{#if months}}<option>{{months}}</option>{{/if}}
          <option class="dropdown-item" value="全部">全部</option>
          {{#each monthsList}}
          <option class="dropdown-item" value="{{this}}">{{this}}</option>
          {{/each}}
        </select>
      </div>
    </div>
  </form>
</div>

<button class="btn btn-default mt-1 mr-1" id="geoBtn"></button>

<div style="display: none;">
  <input id="pac-input" class="controls mt-1" type="text" placeholder="Enter a location" />
</div>

<i style="display: none" id="axiosUrl" class="axiosUrl" type="text">{{url}}</i>

<div id="map"></div>

<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
<script src="/javascript/mapFunction.js"></script>